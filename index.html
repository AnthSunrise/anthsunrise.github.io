<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L2 Risen - Guía General y Rebirths.</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #1c1c1c;
            color: #e0e0e0;
            padding: 20px;
            max-width: 1600px;
            margin: 0 auto;
        }
        
        h1 {
            color: #4d9fff;
            text-align: center;
            margin-bottom: 10px;
            border-bottom: 2px solid #2a5caa;
            padding-bottom: 15px;
        }
        
        h2 {
            color: #6ab7ff;
            margin-top: 30px;
            border-left: 4px solid #2a5caa;
            padding-left: 10px;
        }
        
        .tab-container {
            margin-bottom: 25px;
        }
        
        .tabs {
            display: flex;
            background-color: #16213e;
            border-radius: 10px 10px 0 0;
            overflow: hidden;
            border: 1px solid #2a5caa;
        }
        
        .tab {
            padding: 15px 25px;
            background-color: #0f3460;
            border-right: 1px solid #2a5caa;
            cursor: pointer;
            font-weight: bold;
            color: #a3d0ff;
            transition: all 0.3s ease;
            flex: 1;
            text-align: center;
        }
        
        .tab:hover {
            background-color: #1a3a6a;
            color: #ffffff;
        }
        
        .tab.active {
            background-color: #2a5caa;
            color: #ffffff;
            border-bottom: 3px solid #4d9fff;
        }
        
        .tab-content {
            display: none;
            background-color: #16213e;
            padding: 20px;
            border-radius: 0 0 10px 10px;
            border: 1px solid #2a5caa;
            border-top: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Estilos para la pestaña de Guía General */
        .guide-container {
            background-color: rgba(15, 52, 96, 0.5);
            padding: 40px;
            border-radius: 10px;
            border: 2px dashed #2a5caa;
            text-align: center;
            margin-top: 20px;
        }
        
        .guide-icon {
            font-size: 64px;
            color: #4d9fff;
            margin-bottom: 20px;
        }
        
        .guide-message {
            font-size: 24px;
            color: #a3d0ff;
            margin-bottom: 20px;
        }
        
        .guide-submessage {
            font-size: 16px;
            color: #6ab7ff;
            line-height: 1.6;
        }
        
        /* Estilos existentes para la calculadora (ahora ocultos) */
        .controls {
            display: none;
        }
        
        .tier-info {
            display: none;
        }
        
        .results-container {
            display: none;
        }
        
        /* Estilos para la lista de Rebirth */
        .rebirths-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .rebirth-card {
            background-color: #16213e;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #2a5caa;
            transition: transform 0.3s ease;
        }
        
        .rebirth-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .rebirth-title {
            font-size: 20px;
            font-weight: bold;
            color: #4d9fff;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #2a5caa;
            text-align: center;
        }
        
        .rebirth-material {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(42, 92, 170, 0.3);
        }
        
        .rebirth-material:last-child {
            border-bottom: none;
        }
        
        .rebirth-material-name {
            font-weight: bold;
            color: #d1e7ff;
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            min-width: 0; /* IMPORTANTE: Permite que el texto se ajuste */
        }
        
        .rebirth-material-text {
            flex: 1;
            min-width: 0; /* Permite que el texto se ajuste dentro del contenedor */
        }
        
        .rebirth-material-count {
            font-family: monospace;
            font-size: 16px;
            color: #ffffff;
            background-color: #0f3460;
            padding: 3px 10px;
            border-radius: 4px;
            min-width: 100px;
            text-align: right;
            flex-shrink: 0;
        }
        
        /* Estilos para notas */
        .rebirth-note {
            margin-top: 15px;
            padding: 10px 15px;
            background-color: rgba(255, 193, 7, 0.1);
            border-left: 4px solid #FFC107;
            font-size: 14px;
            color: #FFD54F;
            border-radius: 4px;
        }
        
        /* Estilos para texto de color especial */
        .special-text {
            color: #FFD700 !important;
            font-weight: bold;
        }
        
        .quest-text {
            color: #4CAF50 !important;
            font-weight: bold;
        }
        
        .material-icon {
            width: 32px;
            height: 32px;
            border-radius: 4px;
            border: 1px solid #2a5caa;
            background-color: #0f3460;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: #a3d0ff;
            flex-shrink: 0;
        }
        
        .material-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 3px;
        }
        
        /* Clase para mantener partes específicas juntas */
        .inline-text {
            white-space: nowrap;
            display: inline;
        }
        
        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                border-right: none;
                border-bottom: 1px solid #2a5caa;
            }
            
            .rebirths-container {
                grid-template-columns: 1fr;
            }
            
            .guide-container {
                padding: 20px;
            }
            
            .guide-icon {
                font-size: 48px;
            }
            
            .guide-message {
                font-size: 20px;
            }
            
            .rebirth-material {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
            
            .rebirth-material-count {
                align-self: flex-end;
                width: 100%;
                text-align: right;
            }
        }
    </style>
</head>
<body>
    <h1><i class="fas fa-shield-alt"></i> L2 RisenWorlds - Guía General y Requisitos de Rebirth</h1>
    
    <div class="tab-container">
        <div class="tabs">
            <div class="tab active" data-tab="guide">Guía General</div>
            <div class="tab" data-tab="rebirth">Rebirths</div>
        </div>
        
        <div id="guide-tab" class="tab-content active">
            <div class="guide-container">
                <div class="guide-icon">
                    <i class="fas fa-book-open"></i>
                </div>
                <div class="guide-message">
                    Guía General en Desarrollo
                </div>
                <div class="guide-submessage">
                    Estamos trabajando en una guía completa para L2 RisenWorlds que incluirá:<br>
                    - Progresión de personajes<br>
                    - Ubicaciones de farmeo<br>
                    - Información general<br>
                    - Sistema de craft<br>
                    - Colecciones<br>
                    - Upgrade de armaduras<br>
                    - Explicación de instancias<br>
                    <br>
                    ¡Vuelve pronto para más información!
                </div>
            </div>
        </div>
        
        <div id="rebirth-tab" class="tab-content">
            <div class="rebirths-container" id="rebirthsContainer">
                <!-- Los rebirths se generarán aquí con JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Datos de los rebirths (completo hasta el 42)
        const rebirthData = [
            {
                id: 1,
                title: "Rebirth 1",
                materials: [
                    { name: "Coal", count: 1500 },
                    { name: "Animal Bone", count: 5000 },
                    { name: "Animal Skin", count: 5000 },
                    { name: "Enchant Armor D", count: 10 }
                ]
            },
            {
                id: 2,
                title: "Rebirth 2",
                materials: [
                    { name: "Dyes STR +1 CON -1", count: 100 },
                    { name: "Enchant Weapon C", count: 50 },
                    { name: "Scroll EXP 20% (1 hour)", count: 1 }
                ]
            },
            {
                id: 3,
                title: "Rebirth 3",
                materials: [
                    { name: "Adena", count: 25000000 },
                    { name: "Stem", count: 10000 },
                    { name: "Ritron Jelly", count: 1 },
                    { name: "Wish Potion", count: 1 }
                ]
            },
            {
                id: 4,
                title: "Rebirth 4",
                materials: [
                    { name: "Adena", count: 30000000 },
                    { name: "Gold Wyvern", count: 400 },
                    { name: "Blood Medusa", count: 400 },
                    { name: "Silver Unicorn", count: 400 },
                    { name: "Manticore Skin Boot Lining", count: 2 },
                    { name: "Brigandine Helmet Design", count: 2 },
                    { name: "Mithril Gloves Design", count: 50 }
                ],
                notes: ["Para conseguir las coins se necesita iniciar la Quest: Coins of Magic"]
            },
            {
                id: 5,
                title: "Rebirth 5",
                materials: [
                    { name: "Adena", count: 35000000 },
                    { name: "Gold Wyvern", count: 400 },
                    { name: "Blood Medusa", count: 400 },
                    { name: "Silver Unicorn", count: 400 },
                    { name: "Full Plate Shield <+6>", count: 1 },
                    { name: "Bonebreaker head", count: 1 },
                    { name: "Heavy Bone Club Head", count: 1 }
                ]
            },
            {
                id: 6,
                title: "Rebirth 6",
                materials: [
                    { name: "Adena", count: 40000000 },
                    { name: "Earth Egg", count: 5 },
                    { name: "Nonliving Nucleus", count: 5 },
                    { name: "Angelic Essence", count: 5 },
                    { name: "Sword of Nightmare <+6>", count: 1 }
                ]
            },
            {
                id: 7,
                title: "Rebirth 7",
                materials: [
                    { name: "Adena", count: 45000000 },
                    { name: "Crafted Leather", count: 10000 },
                    { name: "Tateossian Ring <+4>", count: 1 },
                    { name: "Tateossian Necklace <+4>", count: 1 },
                    { name: "Tateossian Earring <+5>", count: 1 }
                ]
            },
            {
                id: 8,
                title: "Rebirth 8",
                materials: [
                    { name: "Adena", count: 50000000 },
                    { name: "Mithril Alloy", count: 1500 },
                    { name: "Durable Metal Plate", count: 1500 },
                    { name: "Broken Relic Part", count: 3000 },
                    { name: "Torch", count: 3000 },
                    { name: "Mutagen", count: 30 }
                ]
            },
            {
                id: 9,
                title: "Rebirth 9",
                materials: [
                    { name: "Adena", count: 55000000 },
                    { name: "Heaven Divider <+4>", count: 1 },
                    { name: "Basalt Battlehammer <+4>", count: 1 },
                    { name: "Moonstone", count: 500 },
                    { name: "Mutagen", count: 30 }
                ]
            },
            {
                id: 10,
                title: "Rebirth 10",
                materials: [
                    { name: "Adena", count: 60000000 },
                    { name: "Draconic Leather Armor <+5>", count: 1 },
                    { name: "Major Arcana Robe <+5>", count: 1 },
                    { name: "Mold Glue", count: 3500 },
                    { name: "Mold Lubricant", count: 3500 },
                    { name: "Mold Hardener", count: 3500 },
                    { name: "Musical Score - Theme of the Feast", count: 1 }
                ]
            },
            {
                id: 11,
                title: "Rebirth 11",
                materials: [
                    { name: "Adena", count: 65000000 },
                    { name: "Sword Of Miracles <+5>", count: 1 },
                    { name: "Soul Separator <+5>", count: 1 },
                    { name: "Soul Bow <+5>", count: 1 },
                    { name: "Recipe: Noble Elven Bow", count: 5 },
                    { name: "Recipe: Elven Bow", count: 15 }
                ]
            },
            {
                id: 12,
                title: "Rebirth 12",
                materials: [
                    { name: "Adena", count: 70000000 },
                    { name: "Recipe: Spiritshot B", count: 10 },
                    { name: "Recipe: Spiritshot A", count: 10 },
                    { name: "Recipe: Spiritshot S", count: 10 },
                    { name: "Enchant Weapon S", count: 30 },
                    { name: "Blacksmith's Frame", count: 30 },
                    { name: "Reorin's Mold", count: 30 },
                    { name: "Mutagen", count: 30 }
                ]
            },
            {
                id: 13,
                title: "Rebirth 13",
                materials: [
                    { name: "Adena", count: 80000000 },
                    { name: "Sweet Fluid", count: 100 },
                    { name: "Spirit Bead", count: 1000 },
                    { name: "Warsmith Mold", count: 30 },
                    { name: "Arcsmith Anvil", count: 30 },
                    { name: "Warsmith Holder", count: 30 },
                    { name: "Mutagen", count: 30 }
                ]
            },
            {
                id: 14,
                title: "Rebirth 14",
                materials: [
                    { name: "Adena", count: 100000000 },
                    { name: "Dynasty Earrings <+4>", count: 1 },
                    { name: "Dynasty Ring <+4>", count: 1 },
                    { name: "Ancient Tome Of the Demon", count: 3000 },
                    { name: "Holy Stone", count: 100 },
                    { name: "Fire Stone", count: 100 },
                    { name: "Mutagen", count: 30 }
                ]
            },
            {
                id: 15,
                title: "Rebirth 15",
                materials: [
                    { name: "Adena", count: 110000000 },
                    { name: "Icarus Sawsword <+4>", count: 1 },
                    { name: "Arcana Mace <+4>", count: 1 },
                    { name: "Giant Codex", count: 100 },
                    { name: "Giant Codex - Mastery", count: 10 },
                    { name: "Mutagen", count: 30 }
                ]
            },
            {
                id: 16,
                title: "Rebirth 16",
                materials: [
                    { name: "Adena", count: 120000000 },
                    { name: "Steel Bracelet", count: 1 },
                    { name: "Ertel", count: 100 },
                    { name: "Knight's Epaulette", count: 10000 },
                    { name: "Crystal S", count: 10000 },
                    { name: "Mutagen", count: 30 }
                ],
                notes: ["Para conseguir Knight's Epaulette hay que farmear fortalezas"]
            },
            {
                id: 17,
                title: "Rebirth 17",
                materials: [
                    { name: "Adena", count: 130000000 },
                    { name: "Stakato Fang", count: 3000 },
                    { name: "Green Soul Crystal Stage 4", count: 1 },
                    { name: "Crystal A", count: 10000 },
                    { name: "Orichalcum", count: 10000 },
                    { name: "Dragon Heart", count: 10 },
                    { name: "Mutagen", count: 1000 }
                ]
            },
            {
                id: 18,
                title: "Rebirth 18",
                materials: [
                    { name: "Adena", count: 150000000 },
                    { name: "Orichalcum", count: 10000 },
                    { name: "Leonard", count: 10000 },
                    { name: "Memento Mori", count: 10 },
                    { name: "Destruction Tombstone", count: 10 },
                    { name: "Event Coin", count: 6 },
                    { name: "Mutagen", count: 30 }
                ]
            },
            {
                id: 19,
                title: "Rebirth 19",
                materials: [
                    { name: "Adena", count: 170000000 },
                    { name: "Spellbook: Moirai Heavy", count: 1 },
                    { name: "Iron Ore", count: 10000 },
                    { name: "Thread", count: 10000 },
                    { name: "Scroll: 20% Spoil 20% (1h.)", count: 2 },
                    { name: "Tattered Monk Clothes", count: 2000 },
                    { name: "Raid Boss Cloth", count: 15 },
                    { name: "Mutagen", count: 30 }
                ],
                notes: ["Tattered Monk Clothes requiere la quest The One Who Ends Silence."]
            },
            {
                id: 20,
                title: "Rebirth 20",
                materials: [
                    { name: "Adena", count: 190000000 },
                    { name: "Top-Grade Life Stone Lv 84", count: 100 },
                    { name: "High-Grade Life Stone Lv 85", count: 2 },
                    { name: "Gold Bar", count: 1 },
                    { name: "Mutagen", count: 30 }
                ],
                notes: ["Las Gold Bar se consiguen en las groceries por Adena."]
            },
            {
                id: 21,
                title: "Rebirth 21",
                materials: [
                    { name: "Adena", count: 200000000 },
                    { name: "Blue Seal Stone", count: 1500000 },
                    { name: "Green Seal Stone", count: 5000000 },
                    { name: "Red Seal Stone", count: 300000 },
                    { name: "Scroll of Ancient Magic", count: 3000 },
                    { name: "Enchant Armor A", count: 50 },
                    { name: "Icarus Hall", count: 1 },
                    { name: "Mutagen", count: 30 }
                ],
                notes: ["Los scrolls of Ancient Magic se consiguen con la quest Yoke of the Past en catacumbas/necropolis"]
            },
            {
                id: 22,
                title: "Rebirth 22",
                materials: [
                    { name: "Adena", count: 240000000 },
                    { name: "Moirai Ring <+5>", count: 1 },
                    { name: "Moirai Earring <+5>", count: 1 },
                    { name: "Moirai Necklace <+5>", count: 1 },
                    { name: "Enchant Weapon A", count: 20 },
                    { name: "Dynasty Soul", count: 5000 },
                    { name: "Mutagen", count: 30 }
                ]
            },
            {
                id: 23,
                title: "Rebirth 23",
                materials: [
                    { name: "Adena", count: 280000000 },
                    { name: "Dark Crystal Helmet <+4>", count: 1 },
                    { name: "Tallum Helmet <+4>", count: 1 },
                    { name: "Helm of Nightmare <+4>", count: 1 },
                    { name: "Imperial Crusader Helmet <+4>", count: 1 },
                    { name: "Draconic Leather Helmet <+4>", count: 1 },
                    { name: "Major Arcana Circlet <+4>", count: 1 },
                    { name: "Mutagen", count: 30 }
                ]
            },
            {
                id: 24,
                title: "Rebirth 24",
                materials: [
                    { name: "Adena", count: 340000000 },
                    { name: "Dynasty Helmet <+4>", count: 1 },
                    { name: "Dynasty Circlet <+4>", count: 1 },
                    { name: "Dynasty Leather Helmet <+4>", count: 1 },
                    { name: "Vesper Helmet <+4>", count: 1 },
                    { name: "Vesper Leather Helmet <+4>", count: 1 },
                    { name: "Vesper Circlet <+4>", count: 1 },
                    { name: "Mutagen", count: 30 }
                ]
            },
            {
                id: 25,
                title: "Rebirth 25",
                materials: [
                    { name: "Adena", count: 380000000 },
                    { name: "Book Improvement C", count: 50 },
                    { name: "Book Improvement B", count: 22 },
                    { name: "Injector Formula", count: 35 }
                ],
                notes: ["Las Injector Formula se consiguen extrayendo Injectores en Alt+B > Crafting > Dismantle Item > Formulas"]
            },
            {
                id: 26,
                title: "Rebirth 26",
                materials: [
                ],
                notes: ["He perdido la información, actualizaré cuando le haga rb a la mochila."]
            },
            {
                id: 27,
                title: "Rebirth 27",
                materials: [
                ],
                notes: ["He perdido la información, actualizaré cuando le haga rb a la mochila."]
            },
            {
                id: 28,
                title: "Rebirth 28",
                materials: [
                ],
                notes: ["He perdido la información, actualizaré cuando le haga rb a la mochila."]
            },
            {
                id: 29,
                title: "Rebirth 29",
                materials: [
                    { name: "Adena", count: 650000000 },
                    { name: "Plated Leather Set", count: 7 },
                    { name: "Karmian Set", count: 7 },
                    { name: "Mutagen", count: 50 }
                ]
            },
            {
                id: 30,
                title: "Rebirth 30",
                materials: [
                    { name: "Adena", count: 700000000 },
                    { name: "Homunkulu's Sword - Acumen <+7>", count: 1 },
                    { name: "Eminence Bow - Cheap Shot <+7>", count: 1 },
                    { name: "Mutagen", count: 50 }
                ]
            },
            {
                id: 31,
                title: "Rebirth 31",
                materials: [
                    { name: "Quest: More Than Meets The Eye", count: 1 },
                    { name: "Adena", count: 750000000 },
                    { name: "Gold Bar", count: 2 },
                    { name: "Mutagen", count: 50 }
                ]
            },
            {
                id: 32,
                title: "Rebirth 32",
                materials: [
                    { name: "Quest: Sweet Whisper", count: 1 },
                    { name: "Adena", count: 850000000 },
                    { name: "Abadon Robe Set", count: 1 },
                    { name: "Blue Wolf Robe Set", count: 1 },
                    { name: "Vesper Robe Set", count: 1 },
                    { name: "Recipe - Eternal Gloves", count: 1 },
                    { name: "Recipe - Eternal Turnic", count: 1 },
                    { name: "Recipe - Eternal Gaiters", count: 1 },
                    { name: "Mutagen", count: 50 }
                ]
            },
            {
                id: 33,
                title: "Rebirth 33",
                materials: [
                    { name: "Adena", count: 950000000 },
                    { name: "Armor Piece", count: 3000 },
                    { name: "Stone of Purity", count: 35000 },
                    { name: "Star Crystal piece", count: 100 },
                    { name: "Recipe Twilight Gauntlet", count: 1 },
                    { name: "Recipe Twilight Leather Helmet", count: 1 },
                    { name: "Recipe Twilight Circlet", count: 1 }
                ]
            },
            {
                id: 34,
                title: "Rebirth 34",
                materials: [
                    { name: "Quest: Secret Buried in the swamp", count: 1 },
                    { name: "Adena", count: 1100000000 },
                    { name: "Gray Fang Stakato", count: 5000 },
                    { name: "Vesper Earring <+6>", count: 1 },
                    { name: "Vesper Ring <+6>", count: 1 },
                    { name: "Vesper Necklace <+6>", count: 1 },
                    { name: "Mutagen", count: 50 }
                ]
            },
            {
                id: 35,
                title: "Rebirth 35",
                materials: [
                    { name: "Adena", count: 1300000000 },
                    { name: "Gold Bar", count: 5 },
                    { name: "Reorin's Mold", count: 50 },
                    { name: "Warsmith's Mold", count: 50 },
                    { name: "Warsmith's Holder", count: 50 },
                    { name: "Arcsmith's Anvil", count: 50 },
                    { name: "Ether", count: 1000 },
                    { name: "Mutagen", count: 200 }
                ]
            },
            {
                id: 36,
                title: "Rebirth 36",
                materials: [
                    { name: "Adena", count: 1500000000 },
                    { name: "Gold Bar", count: 5 },
                    { name: "Enchant Weapon S", count: 500 },
                    { name: "Enchant Armor S", count: 1500 },
                    { name: "Crystal A", count: 15000 },
                    { name: "Crystal S", count: 15000 },
                    { name: "Mutagen", count: 100 }
                ]
            },
            {
                id: 37,
                title: "Rebirth 37",
                materials: [
                    { name: "Quest: Deliver Goods", count: 1 },
                    { name: "Quest: Letters Of Love", count: 1 },
                    { name: "Quest: Miners Favor", count: 1 },
                    { name: "Adena", count: 1700000000 },
                    { name: "Elegia Ring <+6>", count: 1 },
                    { name: "Calculator", count: 1 },
                    { name: "Mutagen", count: 100 }
                ]
            },
            {
                id: 38,
                title: "Rebirth 38",
                materials: [
                    { name: "Adena", count: 2500000000 },
                    { name: "Vesper Breastplate", count: 1 },
                    { name: "Vesper Leather Leggings", count: 1 },
                    { name: "Vesper Glove", count: 1 },
                    { name: "Robe of Nightmare Set", count: 1 },
                    { name: "Majestic Robe Set", count: 1 },
                    { name: "Crystal: Accessory", count: 60 },
                    { name: "Transformation Scroll: Ol Mahum - Event", count: 1 },
                    { name: "Mutagen", count: 100 }
                ]
            },
            {
                id: 39,
                title: "Rebirth 39",
                materials: [
                    { name: "Adena", count: 3000000000 },
                    { name: "Reorin's Mold", count: 200 },
                    { name: "Warsmith's Mold", count: 200 },
                    { name: "Warsmith's Holder", count: 200 },
                    { name: "Arcsmith's Anvil", count: 200 },
                    { name: "Petra", count: 2000 },
                    { name: "Mithril Alloy", count: 5000 },
                    { name: "Processed steel", count: 30 }
                ],
                notes: ["El Rebirth dice 'Processed Steel' pero se refiere a Hardened Steel en Resources"]
            },
            {
                id: 40,
                title: "Rebirth 40",
                materials: [
                    { name: "Adena", count: 3500000000 },
                    { name: "Leonard", count: 20000 },
                    { name: "Adamantine", count: 20000 },
                    { name: "Orichalcum", count: 20000 },
                    { name: "Blessed Enchant Weapon S", count: 20 },
                    { name: "<Draconic Bow - Earth +6>", count: 1 },
                    { name: "Mutagen", count: 100 }
                ],
                notes: ["El Draconic Bow es Foundation, requiere craftear."]
            },
            {
                id: 41,
                title: "Rebirth 41",
                materials: [
                    { name: "Adena", count: 4000000000 },
                    { name: "Garden Flower", count: 100 },
                    { name: "Talisman Magmeld Lv. 2", count: 1 },
                    { name: "<Dark Crystal Glove - Heavy +5>", count: 1 },
                    { name: "Mutagen", count: 100 }
                ],
                notes: ["El Dark Crystal Glove es Foundation, requiere craftear."]
            },
            {
                id: 42,
                title: "Rebirth 42",
                materials: [
                    { name: "Quest: Bring up with the love", count: 1 },
                    { name: "Quest: Red eyed invaders", count: 1 },
                    { name: "Adena", count: 4500000000 },
                    { name: "Raid Boss Cloth", count: 100 },
                    { name: "Steel Wire", count: 1000 },
                    { name: "Cokes", count: 1500 },
                    { name: "Armor Piece", count: 10000 },
                    { name: "Mutagen", count: 100 }
                ]
            }
        ];

        // Función para formatear el nombre del material con colores especiales usando <>
        function formatMaterialName(materialName) {
            // Verificar si es una quest
            if (materialName.toLowerCase().includes("quest:")) {
                // Para quests, mantener todo junto con color verde
                return `<span class="quest-text">${materialName}</span>`;
            }
            
            // Si TODO el texto está entre <>, aplicar special-text pero permitir división
            if (materialName.startsWith('<') && materialName.endsWith('>')) {
                const content = materialName.replace(/[<>]/g, '');
                return `<span class="special-text allow-wrap">${content}</span>`;
            }
            
            // Buscar texto entre <> y aplicarle la clase special-text
            let formattedName = materialName;
            const matches = materialName.match(/<([^>]+)>/g);
            
            if (matches) {
                matches.forEach(match => {
                    const content = match.replace(/[<>]/g, '');
                    // Solo aplicar nowrap a partes específicas como +6, +5
                    if (content.match(/^\+\d+$/)) {
                        formattedName = formattedName.replace(
                            match, 
                            `<span class="special-text inline-text">${content}</span>`
                        );
                    } else {
                        // Para texto más largo, permitir división
                        formattedName = formattedName.replace(
                            match, 
                            `<span class="special-text">${content}</span>`
                        );
                    }
                });
            }
            
            return formattedName;
        }

        // Función para obtener el nombre limpio (sin <> para iconos)
        function getCleanMaterialName(materialName) {
            // Remueve las tags <> pero mantiene el contenido interno
            return materialName.replace(/<|>/g, '');
        }

        // Función para obtener el nombre seguro para imágenes (case insensitive)
        function getSafeImageName(materialName) {
            // Primero limpiar el nombre de los <>
            const cleanName = getCleanMaterialName(materialName);
            
            // Remover "Quest: " para los nombres de quests
            const questCleanedName = cleanName.replace(/^Quest:\s*/i, '').trim();
            
            // Mapeo manual para nombres problemáticos
            const nameMapping = {
                // Rebirths 1-21
                "Scroll EXP 20% (1 hour)": "Scroll EXP",
                "Dyes STR +1 CON -1": "Dyes",
                "Enchant Armor D": "Enchant Armor D",
                "Enchant Armor A": "EAA",
                "Enchant Weapon C": "Enchant Weapon C",
                "Enchant Weapon S": "Enchant Weapon S",
                "Sword of Nightmare": "Sword of Nightmare +6",
                "Tateossian Ring +4": "Tateossian Ring",
                "Tateossian Necklace +4": "Tateossian Necklace",
                "Tateossian Earring +5": "Tateossian Earring",
                "Full Plate Shield": "Full Plate Shield +6",
                "Heaven Divider +4": "Heaven Divider",
                "Basalt Battlehammer +4": "Basalt Battlehammer",
                "Draconic Leather Armor +5": "Draconic Leather Armor",
                "Major Arcana Robe +5": "Major Arcana Robe",
                "Sword Of Miracles +5": "Sword Of Miracles",
                "Soul Separator +5": "Soul Separator",
                "Soul Bow +5": "Soul Bow",
                "Dynasty Earrings +4": "Dynasty Earrings",
                "Dynasty Ring +4": "Dynasty Ring",
                "Icarus Sawsword +4": "Icarus Sawsword",
                "Arcana Mace +4": "Arcana Mace",
                "Green Soul Crystal Stage 4": "Green Soul Crystal Stage 4",
                "Musical Score - Theme of the Feast": "Theme of the feast",
                "Recipe: Noble Elven Bow": "recipe c",
                "Recipe: Elven Bow": "recipe d",
                "Recipe: Spiritshot B": "recipe b",
                "Recipe: Spiritshot C": "recipe c",
                "Recipe: Spiritshot A": "recipe a",
                "Reorin's Mold": "Corroded Reorin Mold",
                "Recipe: Spiritshot S": "recipe",
                "Warsmith Mold": "Corroded Warsmith Mold",
                "Arcsmith Anvil": "Corroded Reorin Mold",
                "Warsmith Holder": "Corroded Reorin Mold",
                "Knight's Epaulette": "knight",
                "Raid Boss Cloth": "Raid Boss Cloth",
                "Stem": "stem",
                "Leonard": "Leonard",
                "Memento Mori": "mori",
                "Destruction Tombstone": "tomb",
                "Event Coin": "event coin",
                "Spellbook: Moirai Heavy": "moirai h",
                "Iron Ore": "Iron Ore",
                "Thread": "Thread",
                "Scroll: 20% Spoil 20% (1h.)": "Spoil 1h",
                "Tattered Monk Clothes": "Manticore Skin Boot Lining",
                "Top-Grade Life Stone Lv 84": "Top life",
                "High-Grade Life Stone Lv 85": "High life",
                "Gold Bar": "Gold bar",
                "Blue Seal Stone": "bss",
                "Green Seal Stone": "gss",
                "Red Seal Stone": "rss",
                "Icarus Hall": "icarus hall",
                "Scroll of Ancient Magic": "scroll magic",
                "Enchant Weapon A": "EAA",
                "Dynasty Soul": "dyna soul",
                "Moirai Ring +5": "Moirai Ring",
                "Moirai Earring +5": "Moirai Earring",
                "Moirai Necklace +5": "Moirai Necklace",
                "Dark Crystal Helmet +4": "helm heavy",
                "Tallum Helmet +4": "helm heavy",
                "Helm of Nightmare +4": "leather helm",
                "Imperial Crusader Helmet +4": "helm heavy",
                "Draconic Leather Helmet +4": "leather helm",
                "Major Arcana Circlet +4": "circlet",
                "Dynasty Helmet +4": "helm heavy",
                "Dynasty Circlet +4": "circlet",
                "Dynasty Leather Helmet +4": "leather helm",
                "Vesper Helmet +4": "helm heavy",
                "Vesper Leather Helmet +4": "leather helm",
                "Vesper Circlet +4": "circlet",
                "Book Improvement C": "improvement",
                "Book Improvement B": "improvement",
                "Injector Formula": "Injector",
                "Plated Leather Set": "moirai h",
                "Karmian Set": "moirai h",
                "Homunkulu's Sword - Acumen +7": "Homunkulu's Sword",
                "Eminence Bow - Cheap Shot +7": "Eminence Bow",
                "Abadon Robe Set": "moirai h",
                "Blue Wolf Robe Set": "moirai h",
                "Vesper Robe Set": "moirai h",
                "Recipe - Eternal Gloves": "recipe r",
                "Recipe - Eternal Turnic": "recipe r",
                "Recipe - Eternal Gaiters": "recipe r",
                "Armor Piece": "Armor Piece",
                "Stone of Purity": "gemstone d",
                "Star Crystal piece": "Star Crystal piece",
                "Recipe Twilight Gauntlet": "recipe r",
                "Recipe Twilight Leather Helmet": "recipe r",
                "Recipe Twilight Circlet": "recipe r",
                "Gray Fang Stakato": "Gray Fang Stakato",
                "Vesper Earring +6": "Vesper Earring",
                "Vesper Ring +6": "Vesper Ring",
                "Vesper Necklace +6": "Vesper Necklace",
                "Warsmith's Mold": "Blacksmiths Frame",
                "Warsmith's Holder": "Blacksmiths Frame",
                "Arcsmith's Anvil": "Blacksmiths Frame",
                "Ether": "Ether",
                "Enchant Armor S": "EAS",
                "Crystal A": "Crystal A",
                "Crystal S": "Crystal S",
                "Elegia Ring +6": "Elegia Ring",
                "Calculator": "Calculator",
                "Vesper Breastplate": "Vesper Breastplate",
                "Vesper Leather Leggings": "Vesper Leather Leggings",
                "Vesper Glove": "Vesper Glove",
                "Robe of Nightmare Set": "moirai h",
                "Majestic Robe Set": "moirai h",
                "Crystal: Accessory": "Crystal Accessory",
                "Transformation Scroll: Ol Mahum - Event": "Transformation",
                "Petra": "Torch",
                "Processed steel": "Processed steel",
                "Adamantine": "Adamantine",
                "Blessed Enchant Weapon S": "BEWS",
                "Draconic Bow - Earth +6": "Draconic Bow",
                "Draconic Bow - Earth": "Draconic Bow",
                "Draconic Bow": "Draconic Bow",
                "Garden Flower": "Garden Flower",
                "Talisman Magmeld Lv. 2": "Magmeld",
                "Dark Crystal Glove - Heavy +5": "DC Glove heavy",
                "Steel Wire": "Steel Wire",
                "Cokes": "Cokes"
            };
                
            // Si existe en el mapeo, usa ese nombre
            if (nameMapping[questCleanedName]) {
                return nameMapping[questCleanedName].toLowerCase();
            }
            
            // Si no, usa la sanitización original
            const safeName = questCleanedName.replace(/[\/\\?%*:|"<>]/g, '_').replace(/'/g, '').toLowerCase();
            return safeName;
        }

        // Iconos para los materiales de rebirth (usando el mismo sistema que la calculadora)
        function getMaterialIconForRebirth(materialName) {
            // Para quests, usar siempre quest.png
            if (materialName.toLowerCase().includes("quest:")) {
                const iconPath = `icons/quest.png`;
                
                const iconDiv = document.createElement('div');
                iconDiv.className = 'material-icon';
                
                const img = document.createElement('img');
                img.src = iconPath;
                img.alt = getCleanMaterialName(materialName);
                img.onerror = function() {
                    this.parentElement.innerHTML = `<i class="fas fa-scroll"></i>`;
                };
                
                iconDiv.appendChild(img);
                
                const tempDiv = document.createElement('div');
                tempDiv.appendChild(iconDiv.cloneNode(true));
                return tempDiv.innerHTML;
            }
            
            // Usar el nombre seguro para la imagen (case insensitive)
            const safeImageName = getSafeImageName(materialName);
            const iconPath = `icons/${safeImageName}.png`;
            
            // Iconos de Font Awesome por defecto para algunos materiales
            const defaultIcons = {
                "Adena": "fa-coins",
                "Coal": "fa-cube",
                "Animal Bone": "fa-bone",
                "Animal Skin": "fa-hide",
                "Enchant Armor D": "fa-shield",
                "Dyes STR +1 CON -1": "fa-palette",
                "Enchant Weapon C": "fa-gem",
                "Scroll EXP 20% (1 hour)": "fa-scroll",
                "Stem": "fa-leaf",
                "Ritron Jelly": "fa-flask",
                "Wish Potion": "fa-wine-bottle",
                "Gold Wyvern": "fa-dragon",
                "Blood Medusa": "fa-user-ninja",
                "Silver Unicorn": "fa-horse",
                "Manticore Skin Boot Lining": "fa-shoe-prints",
                "Brigandine Helmet Design": "fa-helmet-battle",
                "Mithril Gloves Design": "fa-hand",
                "Full Plate Shield": "fa-shield-alt",
                "Bonebreaker head": "fa-skull",
                "Heavy Bone Club Head": "fa-hammer",
                "Earth Egg": "fa-egg",
                "Nonliving Nucleus": "fa-atom",
                "Angelic Essence": "fa-feather-alt",
                "Sword of Nightmare": "fa-sword",
                "Crafted Leather": "fa-scroll",
                "Tateossian Ring": "fa-ring",
                "Tateossian Necklace": "fa-gem",
                "Tateossian Earring": "fa-gem",
                "Mithril Alloy": "fa-cubes",
                "Durable Metal Plate": "fa-layer-group",
                "Broken Relic Part": "fa-history",
                "Torch": "fa-fire",
                "Mutagen": "fa-flask",
                "Heaven Divider": "fa-scissors",
                "Basalt Battlehammer": "fa-hammer",
                "Moonstone": "fa-moon",
                "Draconic Leather Armor": "fa-vest",
                "Major Arcana Robe": "fa-vest-patches",
                "Mold Glue": "fa-glue",
                "Mold Lubricant": "fa-oil-can",
                "Mold Hardener": "fa-gem",
                "Musical Score - Theme of the Feast": "fa-music",
                "Sword Of Miracles": "fa-sword",
                "Soul Separator": "fa-cut",
                "Soul Bow": "fa-bow-arrow",
                "Recipe: Noble Elven Bow": "fa-scroll",
                "Recipe: Elven Bow": "fa-scroll",
                "Recipe: Spiritshot B": "fa-scroll",
                "Recipe: Spiritshot A": "fa-scroll",
                "Recipe: Spiritshot S": "fa-scroll",
                "Enchant Weapon S": "fa-magic",
                "Blacksmith's Frame": "fa-tools",
                "Reorin's Mold": "fa-toolbox",
                "Sweet Fluid": "fa-tint",
                "Spirit Bead": "fa-circle",
                "Warsmith Mold": "fa-toolbox",
                "Arcsmith Anvil": "fa-hammer",
                "Warsmith Holder": "fa-grip",
                "Dynasty Earrings": "fa-gem",
                "Dynasty Ring": "fa-ring",
                "Ancient Tome Of the Demon": "fa-book",
                "Holy Stone": "fa-gem",
                "Fire Stone": "fa-fire",
                "Icarus Sawsword": "fa-sword",
                "Arcana Mace": "fa-hammer",
                "Giant Codex": "fa-book-open",
                "Giant Codex - Mastery": "fa-book-open",
                "Steel Bracelet": "fa-bracelet",
                "Ertel": "fa-cube",
                "Knight's Epaulette": "fa-ribbon",
                "Crystal S": "fa-gem",
                "Stakato Fang": "fa-teeth",
                "Green Soul Crystal Stage 4": "fa-gem",
                "Crystal A": "fa-gem",
                "Orichalcum": "fa-mountain",
                "Dragon Heart": "fa-heart"
            };
            
            // Obtener el nombre limpio para buscar en defaultIcons
            const cleanName = getCleanMaterialName(materialName);
            const iconClass = defaultIcons[cleanName] || "fa-cube";
            
            // Crear el elemento del icono
            const iconDiv = document.createElement('div');
            iconDiv.className = 'material-icon';
            
            const img = document.createElement('img');
            img.src = iconPath;
            img.alt = cleanName;
            img.onerror = function() {
                // Si la imagen falla, intentar con diferentes casos
                const lowerPath = `icons/${safeImageName.toLowerCase()}.png`;
                if (lowerPath !== iconPath) {
                    this.src = lowerPath;
                    this.onerror = null; // Evitar recursión infinita
                    this.onerror = function() {
                        this.parentElement.innerHTML = `<i class="fas ${iconClass}"></i>`;
                    };
                } else {
                    this.parentElement.innerHTML = `<i class="fas ${iconClass}"></i>`;
                }
            };
            
            iconDiv.appendChild(img);
            
            // Convertir a HTML string
            const tempDiv = document.createElement('div');
            tempDiv.appendChild(iconDiv.cloneNode(true));
            return tempDiv.innerHTML;
        }

        // Función para crear tarjetas de rebirth con íconos
        function createRebirthCards() {
            const container = document.getElementById('rebirthsContainer');
            container.innerHTML = '';
            
            rebirthData.forEach(rebirth => {
                const card = document.createElement('div');
                card.className = 'rebirth-card';
                
                let materialsHTML = '';
                rebirth.materials.forEach(material => {
                    materialsHTML += `
                        <div class="rebirth-material">
                            <span class="rebirth-material-name">
                                ${getMaterialIconForRebirth(material.name)}
                                <span class="rebirth-material-text">${formatMaterialName(material.name)}</span>
                            </span>
                            <span class="rebirth-material-count">${material.count.toLocaleString()}</span>
                        </div>
                    `;
                });
                
                let notesHTML = '';
                if (rebirth.notes && rebirth.notes.length > 0) {
                    notesHTML += `<div class="rebirth-note"><strong>Nota:</strong> ${rebirth.notes.join('<br>')}</div>`;
                }
                
                card.innerHTML = `
                    <div class="rebirth-title">${rebirth.title}</div>
                    ${materialsHTML}
                    ${notesHTML}
                `;
                
                container.appendChild(card);
            });
        }

        // Sistema de tabs
        function initTabs() {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remover clase active de todos los tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(tc => tc.classList.remove('active'));
                    
                    // Agregar clase active al tab clickeado
                    tab.classList.add('active');
                    
                    // Mostrar el contenido correspondiente
                    const tabId = tab.getAttribute('data-tab');
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });
        }

        // Inicializar al cargar la página
        document.addEventListener('DOMContentLoaded', () => {
            initTabs();
            createRebirthCards();
        });
    </script>
</body>
</html>
